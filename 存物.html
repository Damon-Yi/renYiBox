<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>商户列表</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="css/public.css" rel="stylesheet" type="text/css">
    <link href="plugin/mui/css/mui.min.css" rel="stylesheet" type="text/css">
    <script src="js/public.js"></script>
    <style>
        .mui-scroll-wrapper{top: 0.7rem;padding-bottom: 0.82rem;}
        .shop-li{margin-bottom:0.18rem;}
        .shop-item{display: flex;display: -webkit-flex;background-color: #fff;padding:0.18rem 0.2rem;line-height: 1;}
        .shop-item .s-img{width: 1.02rem;}
        .shop-item .s-img>img{display: block;width: 100%;}
        .shop-item .s-info{flex: 1;-webkit-flex: 1;padding:0 0.08rem;}
        .shop-item .s-info .s-name{font-size: 0.26rem;color: #333;}
        .shop-item .s-info .s-name>span{display: inline-block;vertical-align: middle;}
        .shop-item .s-info .s-name .near{width:0.4rem;height:0.22rem;display: inline-block;vertical-align: middle;margin-left:0.04rem;background: url(images/near.png) no-repeat center center;background-size:contain;}
        .shop-item .s-info .s-price{color: #6fc1f5;font-size: 0.18rem;margin: 0.12rem 0;}
        .shop-item .s-info .s-price .s-big-blue{font-size: 0.25rem;}
        .shop-item .s-info .s-addr{font-size: 0.22rem;color: #999;display: flex;display: -webkit-flex;align-items:center;}
        .shop-item .s-info .s-addr>img{width: 0.2rem;display: block;}
        .shop-item .s-info .s-addr>span{margin-left:0.06rem;flex: 1;-webkit-flex: 1;line-height: 1.2;}
        .shop-item .s-dist{width: 0.8rem;color: #999;font-size: 0.22rem;line-height: 1rem;text-align: right;}
    </style>
</head>
<body>
    <section class="sec-top">
        <div class="search-bar" id="search-bar">
            <div class="search-form">
                <div class="search-box">
                    <i class="search-icon"></i>
                    <input type="search" id="search-input" class="search-input" placeholder="输入门店、位置进行搜索" onsearch="search()">
                </div>
                <label class="search-label">
                    <i class="search-icon"></i><span>输入门店、位置进行搜索</span>
                </label>
            </div>
            <a href="javascript:;" id="" class="search-cancel">取消</a>
        </div>
    </section>
    <section class="sec-cont">
        <!--下拉刷新容器-->
        <div id="pullrefresh" class="mui-content mui-scroll-wrapper">
            <div class="mui-scroll">
                <!--数据列表-->
                <ul class="mui-table-view mui-table-view-chevron">
                    <li class="shop-li">
                        <a href="选择柜体.html" class="">
                            <div class="shop-item">
                                <div class="s-img"><img src="images/list0.png" alt=""></div>
                                <div class="s-info">
                                    <p class="s-name">深圳海岸城购物中心A入口深圳海岸城购物中心A入口<i class="near"></i></p>
                                    <p class="s-price"><span class="s-big-blue">￥1</span>起</p>
                                    <p class="s-addr"><img src="images/position.png" alt=""><span>深圳市南山区文心五路33号深圳市南山区文心五路33号深圳市南山区文心</span></p>
                                </div>
                                <div class="s-dist">0.1km</div>
                            </div>
                        </a>
                    </li>
                    <li class="shop-li">
                        <a href="" class="">
                            <div class="shop-item">
                                <div class="s-img"><img src="images/list1.png" alt=""></div>
                                <div class="s-info">
                                    <p class="s-name">深圳海岸城购物中心A入口</p>
                                    <p class="s-price"><span class="s-big-blue">￥1</span>起</p>
                                    <p class="s-addr"><img src="images/position.png" alt=""><span>深圳市南山区文心五路33号</span></p>
                                </div>
                                <div class="s-dist">0.1km</div>
                            </div>
                        </a>
                    </li>
                    <li class="shop-li">
                        <a href="" class="">
                            <div class="shop-item">
                                <div class="s-img"><img src="images/list2.png" alt=""></div>
                                <div class="s-info">
                                    <p class="s-name">深圳海岸城购物中心A入口</p>
                                    <p class="s-price"><span class="s-big-blue">￥1</span>起</p>
                                    <p class="s-addr"><img src="images/position.png" alt=""><span>深圳市南山区文心五路33号</span></p>
                                </div>
                                <div class="s-dist">0.1km</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </section>
    <section class="sec-bottom">
       <ul class="nav-bar">
            <li>
                <a href="存物.html" class="nav-a on">
                    <i class="nav-img nav-img-0"></i>
                    <p class="nav-txt">存物</p>
                </a>
            </li>
            <li>
                <a href="取物.html" class="nav-a">
                    <i class="nav-img nav-img-1"></i>
                    <p class="nav-txt">取物</p>
                </a>
            </li>
            <li>
                <a href="我的.html" class="nav-a">
                    <i class="nav-img nav-img-2"></i>
                    <p class="nav-txt">我的</p>
                </a>
            </li>
        </ul>
    </section>
    <script src="plugin/mui/js/mui.min.js"></script>
    <script src="plugin/mui/js/mui.pullToRefresh.js"></script>
    <script src="plugin/mui/js/mui.pullToRefresh.material.js"></script>
    <script>
        //搜索框
        function search(){
            var searchInput = document.getElementById('search-input');
            console.log(searchInput.value);
            //alert(searchInput.value);
        }
        mui('.search-bar').on('tap', '.search-label', function() {
            var searchBar = document.getElementById('search-bar'),
            searchInput = document.getElementById('search-input');
            addClass(searchBar,'focus-in');
            searchInput.focus()
        }).on('tap', '.search-cancel', function() {
            var searchBar = document.getElementById('search-bar'),
            searchInput = document.getElementById('search-input');
            removeClass(searchBar,'focus-in');
            searchInput.blur()
        }).on('blur', '.search-input', function() {
            var searchBar = document.getElementById('search-bar'),
            searchInput = document.getElementById('search-input');
            removeClass(searchBar,'focus-in');
            searchInput.blur()
        });

        mui('body').on('tap','a',function(){document.location.href=this.href;});

        //上拉 下拉
        mui.init({
            pullRefresh: {
                container: '#pullrefresh',
                down: {
                    callback: pulldownRefresh
                },
                up: {
                    contentrefresh: '正在加载...',
                    callback: pullupRefresh
                }
            }
        });
        /**
         * 下拉刷新
         */
        function pulldownRefresh() {
            setTimeout(function() {
                var table = document.body.querySelector('.mui-table-view');
                var cells = document.body.querySelectorAll('.mui-table-view-cell');
                for (var i = cells.length, len = i + 3; i < len; i++) {
                    var li = document.createElement('li');
                    li.className = 'shop-li';
                    li.innerHTML = '<a href="" class="">'
                                +    '<div class="shop-item">'
                                +       '<div class="s-img"><img src="images/list2.png" alt=""></div>'
                                +           '<div class="s-info">'
                                +               '<p class="s-name">深圳海岸城购物中心A入口</p>'
                                +               '<p class="s-price"><span class="s-big-blue">￥1</span>起</p>'
                                +               '<p class="s-addr"><img src="images/position.png" alt=""><span>深圳市南山区文心五路33号</span></p>'
                                +           '</div>'
                                +       '<div class="s-dist">0.1km</div>'
                                +    '</div>'
                                +'</a>';
                    //下拉刷新，新纪录插到最前面；
                    table.insertBefore(li, table.firstChild);
                }
                mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
            }, 1500);
        }
        var count = 0;
        /**
         * 上拉加载
         */
        function pullupRefresh() {
            setTimeout(function() {
                mui('#pullrefresh').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
                var table = document.body.querySelector('.mui-table-view');
                var cells = document.body.querySelectorAll('.mui-table-view-cell');
                for (var i = cells.length, len = i + 5; i < len; i++) {
                    var li = document.createElement('li');
                    li.className = 'shop-li';
                    li.innerHTML = '<a href="" class="">'
                                +    '<div class="shop-item">'
                                +       '<div class="s-img"><img src="images/list2.png" alt=""></div>'
                                +           '<div class="s-info">'
                                +               '<p class="s-name">深圳海岸城购物中心A入口</p>'
                                +               '<p class="s-price"><span class="s-big-blue">￥1</span>起</p>'
                                +               '<p class="s-addr"><img src="images/position.png" alt=""><span>深圳市南山区文心五路33号</span></p>'
                                +           '</div>'
                                +       '<div class="s-dist">0.1km</div>'
                                +    '</div>'
                                +'</a>';
                    table.appendChild(li);
                }
            }, 1500);
        }
    </script>
</html>